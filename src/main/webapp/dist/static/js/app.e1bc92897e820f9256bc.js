webpackJsonp([1],[,,,,,,,,,,,function(t,e,a){"use strict";e.a={baseUrl:"http://localhost:8080/BC-backend/api",projectName:"/BC-backend"}},,,,function(t,e,a){"use strict";var n=a(79),o=a.n(n),i=a(11);o.a.defaults.headers.post["Content-Type"]="application/json",o.a.defaults.baseURL=i.a.baseUrl,e.a={uploadFileURL:function(t,e){return i.a.baseUrl+"/document/"+t+"/file?type="+e},getAllProducts:function(){return o.a.get("/product")},getNodeByProductId:function(t){return o.a.get("/node?productId="+t)},addNode:function(t){return o.a.post("/node",t)},updateNode:function(t){return o.a.put("/node",t)},deleteNode:function(t){return o.a.delete("/node/"+t)},updateNodeInfo:function(t){return o.a.put("/nodeInfo",t)},getAllNodeInfo:function(){return o.a.get("/nodeInfo")},getDocumentById:function(t){return o.a.get("/document/"+t)},deleteFileById:function(t,e){return o.a.delete("/document/"+t+"/file/"+e)},updateDocument:function(t,e){return o.a.put("/document/"+t,e)}}},,,,,,,,,function(t,e,a){"use strict";function n(t,e){s.default.prototype.$message({message:t,type:e,showClose:!0,duration:2e3})}function o(t){n(t,"success")}function i(t){n(t,"error")}function r(t){return s.default.prototype.$confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})}var s=a(3);e.a={alertSuccess:o,alertError:i,confirm:r}},,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";var n=a(3),o=a(179),i=a(141),r=a.n(i),s=a(139),l=a.n(s),d=a(135),c=a.n(d),u=a(142),f=a.n(u),p=a(140),v=a.n(p),m=a(144),b=a.n(m),_=a(136),g=a.n(_),h=a(146),x=a.n(h),w=a(137),C=a.n(w),I=a(45),E=a(11);n.default.use(o.a);var U=[{path:"/"+E.a.projectName,redirect:"/main"},{path:"/main",component:r.a,children:[{path:"",component:f.a},{path:"testSystem",component:b.a},{path:"mainProcess",component:v.a}]},{path:"/index",component:c.a,children:[{path:"",component:l.a,redirect:"product/1"},{path:"product/:id",component:l.a}]},{path:"/document/:documentId",component:g.a,children:[{path:"",component:x.a},{path:"edit",component:C.a}]}],y=new o.a({routes:U,mode:"history"});y.beforeEach(function(t,e,a){I.a.dispatch("changeDefaultActive",t.path),a(!0)}),e.a=y},function(t,e,a){"use strict";var n=a(3),o=a(33),i=a(234),r=a(232),s=a(233);n.default.use(o.a);var l=new o.a.Store({state:i.a,mutations:s.a,actions:r.a});e.a=l},,,,,,,,,,,,,,function(t,e,a){a(178);var n=a(2)(a(221),a(160),"data-v-b5cebe92",null);t.exports=n.exports},,,,,,,,,,,,,,,,,function(t,e,a){a(176);var n=a(2)(a(216),a(158),null,null);t.exports=n.exports},function(t,e){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){a(174);var n=a(2)(a(217),a(156),"data-v-7187e96a",null);t.exports=n.exports},function(t,e,a){a(177);var n=a(2)(a(218),a(159),"data-v-99cf2a70",null);t.exports=n.exports},function(t,e,a){a(170);var n=a(2)(a(219),a(152),"data-v-565a1b72",null);t.exports=n.exports},function(t,e,a){a(173);var n=a(2)(a(220),a(155),"data-v-6dd2947a",null);t.exports=n.exports},function(t,e,a){a(172);var n=a(2)(a(222),a(154),"data-v-5f96b2e6",null);t.exports=n.exports},function(t,e,a){a(169);var n=a(2)(a(223),a(151),"data-v-46865559",null);t.exports=n.exports},function(t,e,a){a(175);var n=a(2)(a(224),a(157),"data-v-719c70fc",null);t.exports=n.exports},function(t,e,a){a(168);var n=a(2)(a(225),a(150),"data-v-32aa4857",null);t.exports=n.exports},function(t,e,a){a(166);var n=a(2)(a(226),a(148),"data-v-1fdf4682",null);t.exports=n.exports},function(t,e,a){a(167);var n=a(2)(a(227),a(149),"data-v-2c21a2ce",null);t.exports=n.exports},function(t,e,a){a(165);var n=a(2)(a(228),a(147),"data-v-0faf1c66",null);t.exports=n.exports},function(t,e,a){a(171);var n=a(2)(a(229),a(153),"data-v-5664d78d",null);t.exports=n.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tree-node"},[a("div",{staticClass:"node-label"},[a("span",[t._v("\n            "+t._s(t.label)+"\n        ")]),t._v(" "),a("input",{ref:"content",class:[t.isEditing?"visible":"hidden"],attrs:{type:"text"},domProps:{value:t.label}})]),t._v(" "),a("span",{staticClass:"node-ops"},[t.isEditing?[a("el-button",{attrs:{size:"mini"},on:{click:t.submit}},[t._v("确认")]),t._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:t.cancel}},[t._v("取消")])]:[t.hideAddButton?t._e():a("el-button",{attrs:{size:"mini"},on:{click:t.add}},[t._v("添加")]),t._v(" "),t.hideEditButton?t._e():a("el-button",{attrs:{size:"mini"},on:{click:t.edit}},[t._v("编辑")]),t._v(" "),t.hideDeleteButton?t._e():a("el-button",{attrs:{size:"mini"},on:{click:t.deleteMethod}},[t._v("删除")])]],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("aside",[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:"","default-active":t.defaultActive}},[a("el-menu-item",{attrs:{index:"/main"}},[t._v("产品形态")]),t._v(" "),a("el-menu-item",{attrs:{index:"/main/mainProcess"}},[t._v("关键业务流程")]),t._v(" "),a("el-menu-item",{attrs:{index:"/main/testSystem"}},[t._v("测试系统")])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"testingSystem"},[a("a",{staticClass:"btn bg-blue",attrs:{target:"_blank",href:"http://172.16.72.79:9086"}},[t._v("NC端")]),t._v(" "),a("a",{staticClass:"btn bg-red",attrs:{target:"_blank",href:"http://172.16.72.79:9085/bmweb"}},[t._v("WEB端")]),t._v(" "),a("a",{staticClass:"btn bg-green",attrs:{target:"_blank",href:'cmd:///c start excel -"NCOBA://#&#ptl=http#&#ip=172.16.72.79:9086#&#user=nigy#&#pwd=U_U++--V7a1e8a945a34df2096ef9e0707736753#&#ds=nc65gold0214#&#busisys=TB#&#language=simpchn#&#action=openexcel#&#args="'}},[t._v("Excel端")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product-list"},[a("div",{staticClass:"group"},[a("router-link",{staticClass:"btn bg-blue",attrs:{to:"/index/product/1?product=外系统数据采集"}},[t._v("\n    外系统数据采集\n  ")]),t._v(" "),a("router-link",{staticClass:"btn bg-blue",attrs:{to:"/index/product/2?product=EPM平台"}},[t._v("\n    EPM平台\n  ")]),t._v(" "),a("router-link",{staticClass:"btn bg-blue",attrs:{to:"/index/product/3?product=动态建模平台"}},[t._v("\n      动态建模平台\n    ")])],1),t._v(" "),a("div",{staticClass:"group"},[a("router-link",{staticClass:"btn bg-red",attrs:{to:"/index/product/11?product=业务合并"}},[t._v("\n      业务合并\n    ")]),t._v(" "),a("a",{staticClass:"btn bg-red"},[t._v("\n      NC-Web\n    ")]),t._v(" "),a("a",{staticClass:"btn bg-red"},[t._v("\n      IUAP\n    ")])],1),t._v(" "),a("div",{staticClass:"group"},[a("router-link",{staticClass:"btn bg-green",attrs:{to:"/index/product/21?product=EXCEL客户端"}},[t._v("\n      EXCEL客户端\n    ")]),t._v(" "),a("router-link",{staticClass:"btn bg-green",attrs:{to:"/index/product/22?product=业务合并EXCEL端"}},[t._v("\n      业务合并EXCEL端\n    ")])],1),t._v(" "),a("icon-desc",{staticClass:"icons",attrs:{settings:t.iconSettings}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"businessProcess"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.businessData,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"#"}}),t._v(" "),a("el-table-column",{attrs:{prop:"process",label:"应用流程",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"role",label:"角色"}}),t._v(" "),a("el-table-column",{attrs:{prop:"achivePercent",label:"完成率"}})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],attrs:{"element-loading-text":"拼命加载中"}},[a("div",{staticClass:"doc-desc"},[a("h3",[t._v("\n        描述\n        "),a("el-button",{staticClass:"fr",attrs:{size:"small"},on:{click:t.editDescription}},[t._v("编辑")])],1),t._v(" "),t.isEditing?a("el-form",{ref:"form",attrs:{model:t.toUpdateDocument,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"修改描述"}},[a("el-input",{attrs:{rows:5,type:"textarea"},model:{value:t.toUpdateDocument.overview,callback:function(e){t.toUpdateDocument.overview=e},expression:"toUpdateDocument.overview"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:t.submitLoading},on:{click:t.updateDocument}},[t._v("提交")]),t._v(" "),a("el-button",{on:{click:function(e){t.isEditing=!1}}},[t._v("取消")])],1)],1):a("pre",[t._v(t._s(t.document.overview))])],1),t._v(" "),a("div",{staticClass:"imgs-show"},[a("h3",[t._v("详细需求")]),t._v(" "),a("ul",t._l(t.detailImgList,function(e,n){return a("li",{staticClass:"img-item"},[a("a",{attrs:{target:"_blank",href:t._f("addBaseUrl")(e.path)}},[a("img",{attrs:{src:t._f("addBaseUrl")(e.path),alt:e.alt}})]),t._v(" "),a("div",{staticClass:"img-info"},[a("span",[t._v(t._s(t._f("imgNameFilter")(e.alt)))]),t._v(" "),a("el-button",{staticClass:"fr",attrs:{size:"mini",icon:"delete",type:"danger"},on:{click:function(a){t.deleteImg(n,e.id)}}},[t._v("删除")])],1)])}))]),t._v(" "),a("div",{staticClass:"upload-box"},[a("el-upload",{staticClass:"upload-component",attrs:{drag:"",action:t.uploadPrototypeFileURL,"on-success":t.handleSuccess,"on-error":t.handleError,mutiple:""}},[a("i",{staticClass:"el-icon-upload"}),t._v(" "),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),t._v(" "),a("div",{staticClass:"el-upload__tip",slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])])],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],attrs:{"element-loading-text":"拼命加载中"}},[a("div",{staticClass:"imgs-show"},[a("h3",[t._v("原型图")]),t._v(" "),a("ul",t._l(t.prototypeImgList,function(e,n){return a("li",{staticClass:"img-item"},[a("a",{attrs:{target:"_blank",href:t._f("addBaseUrl")(e.path)}},[a("img",{attrs:{src:t._f("addBaseUrl")(e.path),alt:e.alt}})]),t._v(" "),a("div",{staticClass:"img-info"},[a("span",[t._v(t._s(t._f("imgNameFilter")(e.alt)))]),t._v(" "),a("el-button",{staticClass:"fr",attrs:{size:"mini",icon:"delete",type:"danger"},on:{click:function(a){t.deleteImg(n,e.id)}}},[t._v("删除")])],1)])}))]),t._v(" "),a("div",{staticClass:"upload-box"},[a("el-upload",{staticClass:"upload-component",attrs:{drag:"",action:t.uploadPrototypeFileURL,"on-success":t.handleSuccess,"on-error":t.handleError,mutiple:""}},[a("i",{staticClass:"el-icon-upload"}),t._v(" "),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),t._v(" "),a("div",{staticClass:"el-upload__tip",slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])])],1),t._v(" "),a("div",{staticClass:"middle-footer"},[a("div",{staticClass:"detail"},[a("router-link",{attrs:{to:t.editUrl}},[t._v("\n            详细需求\n      ")])],1)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"w",attrs:{"element-loading-text":"拼命加载中"}},[a("aside",{staticClass:"main-aside"},[a("el-tree",{staticClass:"tree",attrs:{data:t.treeData,props:{children:"children",label:"label"},"node-key":"localId","highlight-current":"",indent:8,"expand-on-click-node":!1,"render-content":t.renderContent}})],1),t._v(" "),a("div",{staticClass:"main-content"},[a("el-table",{attrs:{data:t.tableData,border:"","default-sort":{prop:"module.label",order:"descending"},stripe:""}},[a("el-table-column",{attrs:{label:"模块",prop:"module.label",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{label:"一级节点",prop:"firstLevelNode.label"}}),t._v(" "),a("el-table-column",{attrs:{label:"二级节点",width:"150px",prop:"secondLevelNode.label"},scopedSlots:t._u([["default",function(e){return[a("router-link",{attrs:{to:"/document/"+e.row.nodeinfo.documentid}},[t._v("\n            "+t._s(e.row.secondLevelNode.label)+"\n          ")])]}]])}),t._v(" "),a("el-table-column",{attrs:{label:"需求完成",prop:"nodeinfo.requirementflag"},scopedSlots:t._u([["default",function(e){return[a("span",{class:t.flag2Class(e.row.nodeinfo.requirementflag)})]}]])}),t._v(" "),a("el-table-column",{attrs:{label:"开发完成",prop:"nodeinfo.developflag"},scopedSlots:t._u([["default",function(e){return[a("span",{class:t.flag2Class(e.row.nodeinfo.developflag)})]}]])}),t._v(" "),a("el-table-column",{attrs:{label:"测试",prop:"nodeinfo.testflag"},scopedSlots:t._u([["default",function(e){return[a("span",{class:t.flag2Class(e.row.nodeinfo.testflag)})]}]])}),t._v(" "),a("el-table-column",{attrs:{label:"负责人",prop:"nodeinfo.boss"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([["default",function(e){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")])]}]])})],1),t._v(" "),a("icon-desc",{attrs:{settings:t.iconSettings}})],1),t._v(" "),a("el-dialog",{attrs:{title:"编辑",size:"small"},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[a("el-form",{ref:"form",attrs:{model:t.toUpdateRow,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"模块"}},[a("el-input",{attrs:{disabled:""},model:{value:t.toUpdateRow.module,callback:function(e){t.toUpdateRow.module=e},expression:"toUpdateRow.module"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:10,offset:2}},[a("el-form-item",{attrs:{label:"需求完成"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.toUpdateRow.requirementflag,callback:function(e){t.toUpdateRow.requirementflag=e},expression:"toUpdateRow.requirementflag"}},[a("el-option",{attrs:{label:"未开始",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"进行中",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"完成",value:"2"}})],1)],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"一级结点"}},[a("el-input",{attrs:{disabled:""},model:{value:t.toUpdateRow.firstLevelNode,callback:function(e){t.toUpdateRow.firstLevelNode=e},expression:"toUpdateRow.firstLevelNode"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:10,offset:2}},[a("el-form-item",{attrs:{label:"开发完成"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.toUpdateRow.developflag,callback:function(e){t.toUpdateRow.developflag=e},expression:"toUpdateRow.developflag"}},[a("el-option",{attrs:{label:"未开始",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"进行中",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"完成",value:"2"}})],1)],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"二级结点"}},[a("el-input",{attrs:{disabled:""},model:{value:t.toUpdateRow.secondLevelNode,callback:function(e){t.toUpdateRow.secondLevelNode=e},expression:"toUpdateRow.secondLevelNode"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:10,offset:2}},[a("el-form-item",{attrs:{label:"测试完成"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.toUpdateRow.testflag,callback:function(e){t.toUpdateRow.testflag=e},expression:"toUpdateRow.testflag"}},[a("el-option",{attrs:{label:"未开始",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"进行中",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"完成",value:"2"}})],1)],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"负责人"}},[a("el-input",{model:{value:t.toUpdateRow.boss,callback:function(e){t.toUpdateRow.boss=e},expression:"toUpdateRow.boss"}})],1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{offset:6,span:19}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.updateNodeInfo}},[t._v("提交")]),t._v(" "),a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("header",[a("h1",{on:{click:t.backHome}},[t._v("业务合并")]),t._v(" "),a("p",[t._v("(Business Consolidation:BC)")])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("h2",{staticClass:"nav-title"},[t._v(t._s(t.navTitle))]),t._v(" "),a("div",{staticClass:"content"},[a("router-view")],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w"},[a("v-sidebar"),t._v(" "),a("div",{staticClass:"main"},[a("router-view")],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-header"),t._v(" "),a("router-view")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"middle-wrapper"},[a("div",{staticClass:"middle"},[a("div",{staticClass:"middle-top-banner"},[a("h2",[t._v(t._s(t.nodeLabel))])]),t._v(" "),a("div",{staticClass:"middle-content"},[a("router-view")],1)])]),t._v(" "),a("footer")])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"icon-desc"},t._l(t.settings,function(e){return a("div",{staticClass:"icon-group"},[a("span",{staticClass:"icon mr5",class:e.classNames}),t._v(t._s(e.label)+"\n  ")])}))},staticRenderFns:[]}},,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(164),o=(a.n(n),a(163)),i=(a.n(o),a(138)),r=a.n(i);e.default={name:"app",data:function(){return{}},methods:{},components:{vHeader:r.a}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},created:function(){this.navTitle=this.$route.query.product}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(15);a(11),a(24);e.default={data:function(){return{nodeLabel:""}},methods:{},created:function(){var t=this,e=this.$route.params.documentId;n.a.getDocumentById(e).then(function(e){var a=e.data;t.nodeLabel=a.data.node.label})}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(15),o=(a(11),a(24));e.default={data:function(){return{isLoading:!1,isEditing:!1,detailImgList:[],document:{},submitLoading:!1,toUpdateDocument:{},documentId:this.$route.params.documentId}},created:function(){var t=this;this.isLoading=!0,n.a.getDocumentById(this.documentId).then(function(e){var a=e.data;t.isLoading=!1,t.detailImgList=a.data.detailImgList})},computed:{uploadPrototypeFileURL:function(){return n.a.uploadFileURL(this.documentId,2)}},methods:{updateDocument:function(){var t=this;n.a.updateDocument(this.documentId,this.toUpdateDocument).then(function(e){var a=e.data;t.isEditing=!1,t.submitLoading=!1,t.document.overview=a.data.overview,t.document.detail=a.data.detail}),this.submitLoading=!0},editDescription:function(){this.isEditing=!this.isEditing,this.toUpdateDocument.overview=this.document.overview},deleteImg:function(t,e){var a=this;o.a.confirm("确认删除吗?").then(function(){n.a.deleteFileById(a.documentId,e).then(function(e){e.data;o.a.alertSuccess("删除成功"),a.detailImgList.splice(t,1)})})},handleSuccess:function(t,e,a){t.error?o.a.alertError("上传失败!"):(this.detailImgList.push(t.data),o.a.alertSuccess("上传成功!"))},handleError:function(t,e,a){o.a.alertError("上传失败!请检查网络")}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={methods:{backHome:function(){this.$router.push({path:"/main"})}},props:["isShow"]}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["settings"]}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(214),o=a.n(n),i=a(215),r=a.n(i),s=a(145),l=a.n(s),d=a(59),c=a.n(d),u=a(24),f=a(15),p=(a(33),a(235)),v=1e3;e.default={data:function(){return{isLoading:!0,iconSettings:[{classNames:["bg-grey"],label:"未开始"},{classNames:["bg-blue"],label:"进行中"},{classNames:["bg-green"],label:"完成"}],tableData:[],nodeInfo:[],realTreeDataRef:new r.a,dialogVisible:!1,currentRow:{},toUpdateRow:{},treeData:[]}},mounted:function(){var t=this;this.currentProductId&&f.a.getNodeByProductId(this.currentProductId).then(function(e){var a=e.data,n=a.data.node,o=a.data.nodeInfo;t.updateTreeData(n),t.nodeInfo=o,t.isLoading=!1,console.log("NODE初始化完成")})},computed:{currentProductId:function(){return this.$store.state.currentProductId}},beforeRouteUpdate:function(t,e,a){console.log("routerUpdated")},created:function(){var t=this.$route.params.id;this.$store.dispatch("changeProductId",t)},watch:{currentProductId:function(t){var e=this;f.a.getNodeByProductId(t).then(function(t){var a=t.data,n=a.data.node,o=a.data.nodeInfo;e.updateTreeData(n),e.nodeInfo=o})},nodeInfo:function(t){console.log("watch nodeInfo变化",t),this.updateTableData(t)}},methods:{updateTableData:function(t){var e=this;this.$nextTick(function(){if(!(t=t||e.nodeInfo)||0==t.length||e.realTreeDataRef.size<=1)return void(e.tableData=[]);console.log("更新tableData 此时map ",e.realTreeDataRef);var a=[],n=!0,i=!1,r=void 0;try{for(var s,l=o()(t);!(n=(s=l.next()).done);n=!0){var d=s.value;if(d.nodeid){var c=e.realTreeDataRef.get(d.nodeid),u={nodeinfo:d,secondLevelNode:c.data,firstLevelNode:c.parent.data,module:c.parent.parent.data};a.push(u)}}}catch(t){i=!0,r=t}finally{try{!n&&l.return&&l.return()}finally{if(i)throw r}}console.log("tableData更新",a),e.tableData=a})},flag2label:p.a.flag2label,changeUpdateRow:function(t){this.toUpdateRow={id:t.nodeinfo.id,module:t.module.label,firstLevelNode:t.firstLevelNode.label,secondLevelNode:t.secondLevelNode.label,requirementflag:t.nodeinfo.requirementflag+"",developflag:t.nodeinfo.developflag+"",testflag:t.nodeinfo.testflag+"",boss:t.nodeinfo.boss}},updateTreeData:function(t){this.treeData=[{localId:99999,label:"全部",children:t}]},addHandle:function(t,e){t.append({localId:v++,parentId:e.id,isNew:!0,label:"编辑结点",children:[],productid:this.currentProductId},e)},remove:function(t,e){t.remove(e),this.realTreeDataRef.delete(e.id)},renderContent:function(t,e){var a=this,n=e.node,o=e.data,i=e.store;this.realTreeDataRef.set(o.id,n);var r={label:n.label};return 1===n.level&&(n.expanded=!0,r.hideEditButton=!0,r.hideDeleteButton=!0),4==n.level&&(r.hideAddButton=!0),t(l.a,{props:r,on:{deleteEvent:function(){o.isNew?a.remove(i,o):u.a.confirm("确认删除吗?").then(function(){f.a.deleteNode(o.id).then(function(t){t.data.error||(a.remove(i,o),f.a.getAllNodeInfo().then(function(t){var e=t.data;a.nodeInfo=e.data,console.log("获取全部nodeInfo",a.nodeInfo)}))})})},add:function(){a.addHandle(i,o),n.expanded=!0},submit:function(t){u.a.confirm("确认更新吗?").then(function(){if(o.isNew){var e={label:t,parentid:n.parent.data.id,productid:o.productid};f.a.addNode(e).then(function(t){var e=t.data;e.error?u.a.alertError(e.error.msg):(o.label=e.data.label,o.id=e.data.id,o.isNew=!1,f.a.getAllNodeInfo().then(function(t){var e=t.data;a.nodeInfo=e.data,u.a.alertSuccess("更新成功")}))}).catch(function(t){return u.a.alertError(t.message)})}else{var i={label:t,id:o.id,productid:o.productid};f.a.updateNode(i).then(function(t){var e=t.data;e.error?u.a.alertError(e.error.msg):(o.label=e.data.label,a.updateTableData(),u.a.alertSuccess("更新成功"))})}})}}})},updateNodeInfo:function(){var t=this,e={id:this.toUpdateRow.id,boss:this.toUpdateRow.boss,requirementflag:this.toUpdateRow.requirementflag,developflag:this.toUpdateRow.developflag,testflag:this.toUpdateRow.testflag};f.a.updateNodeInfo(e).then(function(e){e.data.error||f.a.getAllNodeInfo().then(function(e){var a=e.data;t.dialogVisible=!1,t.nodeInfo=a.data,u.a.alertSuccess("更新成功!")})})},handleEdit:function(t,e){this.currentRow=e,this.changeUpdateRow(e),this.dialogVisible=!0},flag2Class:p.a.flag2Class},components:{treeNode:l.a,iconDesc:c.a}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a(230);e.default={data:function(){return{businessData:[{id:"1",process:"登录主界面",role:"角色",achivePercent:"80%"}]}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(143),o=a.n(n);e.default={data:function(){return{}},methods:{},components:{vSidebar:o.a}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(59),o=a.n(n);e.default={data:function(){return{iconSettings:[{classNames:["icon","bg-blue"],label:"NC端"},{classNames:["icon","bg-red"],label:"Web端"},{classNames:["icon","bg-green"],label:"Excel端"}]}},methods:{},components:{iconDesc:o.a}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a(15),a(33);e.default={data:function(){return{}},computed:{defaultActive:function(){return this.$store.state.defaultActive}},created:function(){},methods:{}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{isEditing:!1}},props:["label","hideEditButton","hideAddButton","hideDeleteButton"],methods:{cancel:function(){this.isEditing=!1},submit:function(){this.isEditing=!1;var t=this.$refs.content.value;this.$emit("submit",t)},add:function(){this.$emit("add")},deleteMethod:function(){this.$emit("deleteEvent")},edit:function(){this.isEditing=!0}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(15),o=(a(11),a(24));e.default={data:function(){return{isLoading:!0,nodeLabel:"",document:{},prototypeImgList:[]}},computed:{uploadPrototypeFileURL:function(){return n.a.uploadFileURL(this.document.id,1)},editUrl:function(){return"/document/"+this.document.id+"/edit"}},methods:{deleteImg:function(t,e){var a=this;o.a.confirm("确认删除吗?").then(function(){n.a.deleteFileById(a.document.id,e).then(function(e){e.data;o.a.alertSuccess("删除成功"),a.prototypeImgList.splice(t,1)})})},handleSuccess:function(t,e,a){t.error?o.a.alertError("上传失败!"):(this.prototypeImgList.push(t.data),o.a.alertSuccess("上传成功!"))},handleError:function(t,e,a){o.a.alertError("上传失败!请检查网络")}},created:function(){var t=this,e=this.$route.params.documentId;n.a.getDocumentById(e).then(function(e){var a=e.data;t.isLoading=!1,t.nodeLabel=a.data.node.label,t.document=a.data.document,t.prototypeImgList=a.data.prototypeImgList})}}},function(t,e,a){"use strict"},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(3),o=a(76),i=a.n(o),r=a(44),s=a(45),l=a(75),d=a.n(l),c=a(77),u=(a.n(c),a(11));n.default.use(d.a),n.default.config.productionTip=!1,n.default.filter("addBaseUrl",function(t){return u.a.baseUrl+t}),n.default.filter("imgNameFilter",function(t){return t.substr(0,t.indexOf("."))}),new n.default({el:"#app",router:r.a,store:s.a,template:"<App/>",components:{App:i.a}})},function(t,e,a){"use strict";a(15),a(44);e.a={changeProductId:function(t,e){(0,t.commit)("UPDATE_TREE_DATA",e)},changeDefaultActive:function(t,e){(0,t.commit)("CHANGE_DEFAULT_ACTIVE",e)}}},function(t,e,a){"use strict";e.a={UPDATE_TREE_DATA:function(t,e){t.currentProductId=e},CHANGE_DEFAULT_ACTIVE:function(t,e){t.defaultActive=e}}},function(t,e,a){"use strict";e.a={currentProductId:null,defaultActive:"/main"}},function(t,e,a){"use strict";function n(t){switch(t){case 0:return"未开始";case 1:return"进行中";case 2:return"完成"}}function o(t){return 1==t?"icon bg-blue":2==t?"icon bg-green":"icon bg-grey"}e.a={flag2label:n,flag2Class:o}}],[231]);
//# sourceMappingURL=app.e1bc92897e820f9256bc.js.map