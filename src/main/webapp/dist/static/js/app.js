webpackJsonp([1],[,,,function(e,t,a){"use strict";var n={baseUrl:"http://localhost:8082/BC-backend/api",rootPath:""};n={baseUrl:"/BC-backend/api",rootPath:"/BC-backend"},t.a=n},,,,,,,,function(e,t,a){"use strict";var n=a(88),o=a.n(n),s=a(3);o.a.defaults.headers.post["Content-Type"]="application/json",o.a.defaults.baseURL=s.a.baseUrl,t.a={uploadFileURL:function(e,t){return s.a.baseUrl+"/document/"+e+"/file?type="+t},getAllProducts:function(){return o.a.get("/product")},getNodeByProductId:function(e){return o.a.get("/node?productId="+e)},addNode:function(e){return o.a.post("/node",e)},updateNode:function(e){return o.a.put("/node",e)},deleteNode:function(e){return o.a.delete("/node/"+e)},addNodeInfo:function(e){return o.a.post("/nodeInfo",e)},deleteNodeInfo:function(e){return o.a.delete("/nodeInfo/"+e)},updateNodeInfo:function(e){return o.a.put("/nodeInfo",e)},getNodeInfoByProductId:function(e){return o.a.get("/nodeInfo?productId="+e)},getDocumentById:function(e){return o.a.get("/document/"+e)},deleteFileById:function(e,t){return o.a.delete("/document/"+e+"/file/"+t)},updateDocument:function(e,t){return o.a.put("/document/"+e,t)}}},,,,,,,,,,,function(e,t,a){"use strict";function n(e,t){r.default.prototype.$message({message:e,type:t,showClose:!0,duration:2500})}function o(e){n(e,"success")}function s(e){n(e,"error")}function i(e){return r.default.prototype.$confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})}var r=a(4);t.a={alertSuccess:o,alertError:s,confirm:i}},function(e,t,a){"use strict";function n(e){switch(e){case 0:return"未开始";case 1:return"进行中";case 2:return"完成"}return e}function o(e){return 1==e?"icon bg-blue":2==e?"icon bg-green":"icon bg-grey"}function s(e){return 0===e?" <span class='cl-grey'>所有角色</span> ":1===e?" <span class='cl-orange'>管理员</span> ":2===e?" <span class='cl-green'>合并会计</span> ":3===e?" <span class='cl-red'>成员单位报表会计</span> ":e}function i(e,t){return r(d(e,t))}function r(e){var t=[];l(t,e,null);var a=[],n=!0,o=!1,s=void 0;try{for(var i,r=h()(t);!(n=(i=r.next()).done);n=!0){var d=i.value;a.push(p.a.apply(Object,[{}].concat(m()(d))))}}catch(e){o=!0,s=e}finally{try{!n&&r.return&&r.return()}finally{if(o)throw s}}return a}function l(e,t,a){if(a||(a=[]),a.push(t),t.children&&t.children.length>0)for(var n=0;n<t.children.length;n++){0!=n&&(a=null);var o=t.children[n];l(e,o,a)}else e.push(a)}function d(e,t){t=t||g;var a=u(),n=a();return t.keys.forEach(function(t,a){n[t]=e[t]}),e[t.childKey]&&c(e[t.childKey],t.child,n,a),n}function c(e,t,a,n){var o=!0,s=!1,i=void 0;try{for(var r,l=h()(e);!(o=(r=l.next()).done);o=!0){var d=r.value;!function(e){var o=n();t.keys.forEach(function(t,a){o[t]=e[t]}),a.children.push(o),t.childKey&&c(e[t.childKey],t.child,o,n)}(d)}}catch(e){s=!0,i=e}finally{try{!o&&l.return&&l.return()}finally{if(s)throw i}}}function u(){var e=1e3;return function(){return{id:e++,children:[]}}}var f=a(246),p=a.n(f),v=a(249),m=a.n(v),b=a(50),h=a.n(b);a.d(t,"b",function(){return i});var g={keys:["businessId","processName"],childKey:"steps",child:{keys:["role"],childKey:"nodeOperations",child:{keys:["nodeName"],childKey:"business",child:{keys:["businessName"],childKey:null}}}};t.a={flag2label:n,flag2Class:o,flag2Role:s}},,,function(e,t,a){a(199);var n=a(1)(a(256),a(175),"data-v-b5cebe92",null);e.exports=n.exports},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var n=a(4),o=a(202),s=a(152),i=a.n(s),r=a(154),l=a.n(r),d=a(155),c=a.n(d),u=a(153),f=a.n(u),p=a(157),v=a.n(p),m=a(158),b=a.n(m),h=a(144),g=a.n(h),_=a(149),N=a.n(_),w=a(150),I=a.n(w),x=a(148),y=a.n(x),C=a(151),P=a.n(C),k=a(145),R=a.n(k),U=a(147),E=a.n(U),L=a(146),D=a.n(L),M=a(52),T=a(3);n.default.use(o.a);var S=[{path:T.a.rootPath+"/demo",component:g.a},{path:T.a.rootPath,component:i.a,children:[{path:"",redirect:T.a.rootPath+"/main/"},{path:"main",component:l.a,children:[{path:"",component:c.a,name:"home"},{path:"user",component:b.a},{path:"testSystem",component:v.a,name:"testSystem"},{path:"mainProcess",component:f.a,name:"mainProcess"}]},{path:T.a.rootPath+"/index",component:N.a,children:[{path:"",component:I.a,redirect:"product/1"},{path:"product/:id",component:I.a,name:"product"},{path:"businessDetail/:businessId",component:y.a},{path:"userStory",component:P.a}]},{path:T.a.rootPath+"/document/:documentId",component:R.a,children:[{path:"",component:E.a},{path:"edit",component:D.a}]}]}],O=new o.a({routes:S,mode:"history",scrollBehavior:function(e,t,a){return a||{x:0,y:0}}});O.beforeEach(function(e,t,a){M.a.dispatch("changeDefaultActive",e.path),a(!0)}),t.a=O},function(e,t,a){"use strict";var n=a(4),o=a(68),s=a(273),i=a(271),r=a(272);n.default.use(o.a);var l=new o.a.Store({state:s.a,mutations:r.a,actions:i.a});t.a=l},,,,,,,,,,,,,,function(e,t,a){a(195);var n=a(1)(a(255),a(171),"data-v-6dd2947a",null);e.exports=n.exports},function(e,t,a){a(194);var n=a(1)(a(260),a(170),"data-v-6a2b5c2a",null);e.exports=n.exports},,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return o});var n=[{id:1,processName:"登录主界面",roles:[0],achivePercent:" "},{id:2,processName:"\t建立合并组织体系",roles:[1],achivePercent:" "},{id:3,processName:"\t多维建模",roles:[1],achivePercent:" "},{id:4,processName:"设计各种表单",roles:[1],achivePercent:" "},{id:5,processName:"设置规则",roles:[1],achivePercent:" "},{id:6,processName:"股权投资数据维护",roles:[2],achivePercent:" "},{id:7,processName:"汇率维护",roles:[2],achivePercent:" "},{id:8,processName:"创建单体公司采集任务",roles:[2],achivePercent:" "},{id:9,processName:"单体公司数据采集",roles:[3],achivePercent:" "},{id:10,processName:"\t单体公司数据中心",roles:[3],achivePercent:" "},{id:11,processName:"外币报表折算",roles:[3],achivePercent:" "},{id:12,processName:"内部交易对账",roles:[2,3],achivePercent:" "},{id:13,processName:"合并方案",roles:[2],achivePercent:" "},{id:14,processName:"合并流程定义",roles:[2],achivePercent:" "},{id:15,processName:"手工抵销",roles:[2],achivePercent:" "},{id:16,processName:"手工调整",roles:[2],achivePercent:" "},{id:17,processName:"合并执行监控",roles:[2],achivePercent:" "},{id:18,processName:"合并数据中心",roles:[2],achivePercent:" "},{id:19,processName:"权限设置",roles:[1],achivePercent:" "}],o=[{businessId:1,processName:"登录主界面",steps:[]},{businessId:2,processName:"建立合并组织体系",steps:[{role:1,nodeOperations:[{nodeName:"-",business:[{businessName:"创建组织体系支持多版本"},{businessName:"合并组织体系支持多版本"}]}]}]},{businessId:3,processName:"多维建模",steps:[{role:1,nodeOperations:[{nodeName:"-",business:[{businessName:"预置常用维度:审计线索,合并方案,合并科目,度量"},{businessName:"支持用户自定义维度"},{businessName:"维度映射基础档案"},{businessName:"建立合并模型,支持同一套单体数据按法定合并和管理合并"}]}]}]},{businessId:4,processName:"设计各种表单",steps:[{role:1,nodeOperations:[{nodeName:"采集表单",business:[{businessName:"设计表单(含计算公式)"},{businessName:"套表管理"}]},{nodeName:"合并表单",business:[{businessName:"设计合并报表表单(含计算公式)"}]},{nodeName:"工作底稿",business:[{businessName:"选择显示指标"}]}]}]},{businessId:5,processName:"设置规则",steps:[{role:1,nodeOperations:[{nodeName:"-",business:[{businessName:"设置计算规则(已有功能)"},{businessName:"设置审核规则(已有功能)"},{businessName:"设置对账规则"},{businessName:"设置抵销、调整规则"},{businessName:"设置折算规则"}]}]}]},{businessId:6,processName:"股权投资数据维护",steps:[{role:2,nodeOperations:[{nodeName:"-",business:[{businessName:"按月录入股权投资数据"}]}]}]},{businessId:7,processName:"汇率维护",steps:[{role:2,nodeOperations:[{nodeName:"-",business:[{businessName:"录入平均汇率、交易发生日汇率、期末汇率"}]}]}]},{businessId:8,processName:"创建单体公司采集任务",steps:[{role:2,nodeOperations:[{nodeName:"-",business:[{businessName:"创建单体公司采集任务"}]}]}]},{businessId:9,processName:"单体公司数据采集",steps:[{role:"",nodeOperations:[{nodeName:"从ERP系统自动采集单体数据",business:[{businessName:"维度匹配规则设置：ERP科目/合并系统科目"},{businessName:"会计期间转换规则"},{businessName:"维度匹配规则设置：辅助核算/维度"},{businessName:"手工导入凭证明细"},{businessName:"手工导入辅助余额表"},{businessName:"后台自动导入明细和辅助余额表"},{businessName:"合并报表项目/科目映射关系设置"},{businessName:"往来账龄转换规则"},{businessName:"往来重分类转换规则"},{businessName:"凭证数据转化为多维数据"}]},{nodeName:"从报表系统自动采集数据",business:[{businessName:"维度匹配规则设置"},{businessName:"会计期间转换规则"},{businessName:"手工导入报表数据"}]}]},{role:3,nodeOperations:[{nodeName:"EXCEL端录入单体数据",business:[{businessName:"EXCEL端下载套表、录入单体数据"}]}]}]},{businessId:10,processName:"单体公司数据中心",steps:[{role:3,nodeOperations:[{nodeName:"-",business:[{businessName:"刷新单体公司数据"},{businessName:"单体公司数据确认、审核、上报"}]}]}]},{businessId:11,processName:"外币报表折算",steps:[{role:"",nodeOperations:[{nodeName:"-",business:[{businessName:"单体公司调整后数据"}]}]}]},{businessId:12,processName:"内部交易对账",steps:[{role:3,nodeOperations:[{nodeName:"单体公司对账",business:[{businessName:"对账执行"},{businessName:"对账报告"},{businessName:"数据调整"}]}]},{role:2,nodeOperations:[{nodeName:"合并体对账",business:[{businessName:"对账执行"},{businessName:"对账报告"},{businessName:"数据调整"}]}]}]},{businessId:13,processName:"合并方案",steps:[{role:2,nodeOperations:[{nodeName:"-",business:[{businessName:"创建合并方案"}]}]}]},{businessId:14,processName:"合并流程定义",steps:[{role:2,nodeOperations:[{nodeName:"-",business:[{businessName:"合并流程定义"}]}]}]},{businessId:15,processName:"手工抵销",steps:[{role:2,nodeOperations:[{nodeName:"-",business:[{businessName:"录入抵销分录"}]}]}]},{businessId:16,processName:"手工调整",steps:[{role:2,nodeOperations:[{nodeName:"-",business:[{businessName:"录入调整分录"}]}]}]},{businessId:17,processName:"合并执行监控",steps:[{role:2,nodeOperations:[{nodeName:"-",business:[{businessName:"折算规则算法处理"},{businessName:"抵销规则算法处理"},{businessName:"调整规则算法处理"},{businessName:"审计线索维自动汇总处理"},{businessName:"单体报表上报状态监控"},{businessName:"合并过程监控"}]}]}]},{businessId:18,processName:"合并数据中心",steps:[{role:2,nodeOperations:[{nodeName:"-",business:[{businessName:"查看合并表"},{businessName:"查看调整、合并工作底稿"},{businessName:"查看调整后数据"},{businessName:"查看单体公司上报数据"},{businessName:"查看单体公司净表数据"}]}]}]},{businessId:19,processName:"权限设置",steps:[{role:1,nodeOperations:[{nodeName:"-",business:[{businessName:""}]}]}]}]},,function(e,t,a){a(197);var n=a(1)(a(250),a(173),null,null);e.exports=n.exports},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){a(189);var n=a(1)(a(251),a(165),"data-v-4967d520",null);e.exports=n.exports},function(e,t,a){a(186);var n=a(1)(a(252),a(162),"data-v-27602db2",null);e.exports=n.exports},function(e,t,a){a(183);var n=a(1)(a(253),a(159),"data-v-09d2595c",null);e.exports=n.exports},function(e,t,a){a(184);var n=a(1)(a(254),a(160),"data-v-09dd1577",null);e.exports=n.exports},function(e,t,a){a(185);var n=a(1)(a(257),a(161),"data-v-106b7fbb",null);e.exports=n.exports},function(e,t,a){a(187);var n=a(1)(a(258),a(163),"data-v-332e130e",null);e.exports=n.exports},function(e,t,a){a(201);var n=a(1)(a(259),a(177),"data-v-fa5a3f48",null);e.exports=n.exports},function(e,t,a){a(190);var n=a(1)(a(261),a(166),"data-v-5d80c1dc",null);e.exports=n.exports},function(e,t,a){a(191);var n=a(1)(a(262),a(167),"data-v-5f96b2e6",null);e.exports=n.exports},function(e,t,a){a(188);var n=a(1)(a(263),a(164),"data-v-3f627e1a",null);e.exports=n.exports},function(e,t,a){a(193);var n=a(1)(a(264),a(169),"data-v-622703a8",null);e.exports=n.exports},function(e,t,a){a(196);var n=a(1)(a(265),a(172),"data-v-7c063571",null);e.exports=n.exports},function(e,t,a){a(198);var n=a(1)(a(266),a(174),"data-v-987ab54e",null);e.exports=n.exports},function(e,t,a){a(200);var n=a(1)(a(267),a(176),"data-v-d79f4818",null);e.exports=n.exports},function(e,t,a){a(192);var n=a(1)(a(268),a(168),"data-v-614cbcb2",null);e.exports=n.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],attrs:{"element-loading-text":"拼命加载中"}},[a("div",{staticClass:"doc-desc"},[a("h3",[e._v("\n        描述\n        "),a("el-button",{staticClass:"fr",attrs:{size:"small"},on:{click:e.editDescription}},[e._v("编辑")])],1),e._v(" "),a("transition",{attrs:{name:"desc","enter-active-class":"animated bounceInRight","leave-active-class":"animated bounceOutRight"}},[e.isEditing?a("el-form",{ref:"form",attrs:{model:e.toUpdateDocument,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"修改描述"}},[a("el-input",{attrs:{rows:5,type:"textarea"},model:{value:e.toUpdateDocument.overview,callback:function(t){e.toUpdateDocument.overview=t},expression:"toUpdateDocument.overview"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:e.updateDocument}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){e.isEditing=!1}}},[e._v("取消")])],1)],1):e._e()],1),e._v(" "),e.isEditing?e._e():a("pre",[e._v(e._s(e.document.overview))])],1),e._v(" "),a("div",{staticClass:"imgs-show"},[a("h3",[e._v("详细需求")]),e._v(" "),a("ul",e._l(e.detailImgList,function(t,n){return a("li",{staticClass:"img-item"},[a("a",{attrs:{target:"_blank",href:e._f("addBaseUrl")(t.path)}},[a("img",{attrs:{src:e._f("addBaseUrl")(t.path),alt:t.alt}})]),e._v(" "),a("div",{staticClass:"img-info"},[a("span",[e._v(e._s(e._f("imgNameFilter")(t.alt)))]),e._v(" "),a("el-button",{staticClass:"fr",attrs:{size:"mini",icon:"delete",type:"danger"},on:{click:function(a){e.deleteImg(n,t.id)}}},[e._v("删除")])],1)])}))]),e._v(" "),a("div",{staticClass:"upload-box"},[a("el-upload",{staticClass:"upload-component",attrs:{drag:"",action:e.uploadPrototypeFileURL,"on-success":e.handleSuccess,"on-error":e.handleError,mutiple:""}},[a("i",{staticClass:"el-icon-upload"}),e._v(" "),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])]),e._v(" "),a("div",{staticClass:"el-upload__tip",slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])])],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],attrs:{"element-loading-text":"拼命加载中"}},[a("div",{staticClass:"imgs-show"},[a("h3",[e._v("原型图")]),e._v(" "),a("ul",e._l(e.prototypeImgList,function(t,n){return a("li",{staticClass:"img-item"},[a("a",{attrs:{target:"_blank",href:e._f("addBaseUrl")(t.path)}},[a("img",{attrs:{src:e._f("addBaseUrl")(t.path),alt:t.alt}})]),e._v(" "),a("div",{staticClass:"img-info"},[a("span",[e._v(e._s(e._f("imgNameFilter")(t.alt)))]),e._v(" "),a("el-button",{staticClass:"fr",attrs:{size:"mini",icon:"delete",type:"danger"},on:{click:function(a){e.deleteImg(n,t.id)}}},[e._v("删除")])],1)])}))]),e._v(" "),a("div",{staticClass:"upload-box"},[a("el-upload",{staticClass:"upload-component",attrs:{drag:"",action:e.uploadPrototypeFileURL,"on-success":e.handleSuccess,"on-error":e.handleError,mutiple:""}},[a("i",{staticClass:"el-icon-upload"}),e._v(" "),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])]),e._v(" "),a("div",{staticClass:"el-upload__tip",slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])])],1),e._v(" "),a("div",{staticClass:"middle-footer"},[a("div",{staticClass:"detail"},[a("router-link",{attrs:{to:e.editUrl}},[e._v("\n            详细需求\n      ")])],1)])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.businessDetailData,border:""}},[a("el-table-column",{attrs:{label:"步骤",width:"250"},scopedSlots:e._u([["default",function(t){return[a("span",[e._v(e._s(t.row.processName))])]}]])}),e._v(" "),a("el-table-column",{attrs:{prop:"role",label:"角色",width:"200"},scopedSlots:e._u([["default",function(t){return[a("span",{domProps:{innerHTML:e._s(e.flag2Role(t.row.role))}})]}]])}),e._v(" "),a("el-table-column",{attrs:{label:"操作节点"},scopedSlots:e._u([["default",function(t){return[a("span",[e._v(e._s(t.row.nodeName))])]}]])}),e._v(" "),a("el-table-column",{attrs:{label:"业务"},scopedSlots:e._u([["default",function(t){return[a("span",[e._v(e._s(t.row.businessName))])]}]])})],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"middle-wrapper"},[a("div",{staticClass:"middle"},[a("div",{staticClass:"middle-top-banner"},[a("h2",[e._v(e._s(e.nodeLabel))])]),e._v(" "),a("div",{staticClass:"middle-content"},[a("router-view")],1)])]),e._v(" "),a("footer")])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper"},[a("h2",{staticClass:"nav-title"},[e._v(e._s(e.navTitle))]),e._v(" "),a("div",{staticClass:"content"},[a("router-view")],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"businessProcess"},[a("el-table",{attrs:{data:e.businessData,border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"id",align:"center",label:"#",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{prop:"processName",label:"应用流程"},scopedSlots:e._u([["default",function(t){return[a("router-link",{attrs:{to:e.config.rootPath+"/index/businessDetail/"+t.row.id+"?navTitle="+t.row.processName}},[e._v("\n          "+e._s(t.row.processName)+"\n        ")])]}]])}),e._v(" "),a("el-table-column",{attrs:{prop:"roles",label:"角色"},scopedSlots:e._u([["default",function(t){return[e._l(t.row.roles,function(t){return[a("span",{domProps:{innerHTML:e._s(e.flag2Role(t))}})]})]}]])}),e._v(" "),a("el-table-column",{attrs:{prop:"achivePercent",label:"完成率"}})],1),e._v(" "),a("icon-desc",{attrs:{settings:e.iconSettings}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"w"},[a("header",[a("i",{staticClass:"iconfont icon menu",on:{click:function(t){e.showMenu=!e.showMenu}}},[e._v("")])]),e._v(" "),a("transition",{attrs:{name:"slide-fade"}},[e.showMenu?a("aside",[a("div",{staticClass:"back-home-wrapper"},[a("i",{staticClass:"iconfont icon back-home",on:{click:e.backHome}},[e._v("")]),e._v(" "),a("i",{staticClass:"iconfont icon menu",on:{click:function(t){e.showMenu=!e.showMenu}}},[e._v("")])]),e._v(" "),a("div",{staticClass:"tree-wrapper"},[a("el-tree",{staticClass:"tree",attrs:{data:e.data,props:e.defaultProps,"expand-on-click-node":!1,"highlight-current":"","default-expand-all":""},on:{"node-click":e.handleNodeClick}})],1)]):e._e()]),e._v(" "),a("div",{staticClass:"demo"},[a("iframe",{ref:"demo",attrs:{name:"demo",src:"",frameborder:"0"}})],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"w",attrs:{"element-loading-text":"拼命加载中"}},[a("transition",{attrs:{name:"slide","leave-active-class":"animated bounceOutLeft"}},[e.treeVisible?a("aside",{staticClass:"main-aside"},[a("div",[a("el-tooltip",{attrs:{content:"点击隐藏",placement:"right"}},[a("i",{staticClass:"iconfont hide-tree",on:{click:function(t){e.treeVisible=!e.treeVisible}}},[e._v("")])])],1),e._v(" "),a("el-tree",{staticClass:"tree",attrs:{data:e.treeData,props:{children:"children",label:"label"},"node-key":"localId","highlight-current":"",indent:8,"expand-on-click-node":!1,"render-content":e.renderContent}})],1):e._e()]),e._v(" "),a("div",{staticClass:"main-content"},[a("el-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.addRow}},[e._v("添加一行")]),e._v(" "),a("el-table",{staticStyle:{"margin-top":"10px"},attrs:{data:e.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{label:"用户故事编码",width:"130",prop:"nodeinfo.objCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户故事名称",width:"130",prop:"nodeinfo.objName"},scopedSlots:e._u([["default",function(t){return[a("router-link",{attrs:{to:e.config.rootPath+"/document/"+t.row.nodeinfo.documentid+"?navTitle="+t.row.nodeinfo.objName}},[e._v("\n            "+e._s(t.row.nodeinfo.objName)+"\n          ")])]}]])}),e._v(" "),a("el-table-column",{attrs:{label:"需求完成",sortable:"",prop:"nodeinfo.requirementflag"},scopedSlots:e._u([["default",function(t){return[a("span",{class:e.flag2Class(t.row.nodeinfo.requirementflag)})]}]])}),e._v(" "),a("el-table-column",{attrs:{label:"开发完成",sortable:"",prop:"nodeinfo.developflag"},scopedSlots:e._u([["default",function(t){return[a("span",{class:e.flag2Class(t.row.nodeinfo.developflag)})]}]])}),e._v(" "),a("el-table-column",{attrs:{label:"测试",sortable:"",prop:"nodeinfo.testflag"},scopedSlots:e._u([["default",function(t){return[a("span",{class:e.flag2Class(t.row.nodeinfo.testflag)})]}]])}),e._v(" "),a("el-table-column",{attrs:{label:"负责人",sortable:"",prop:"nodeinfo.boss"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150",align:"center"},scopedSlots:e._u([["default",function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(a){e.deleteRow(t.$index,t.row)}}},[e._v("删除")])]}]])})],1),e._v(" "),a("icon-desc",{attrs:{settings:e.iconSettings}})],1),e._v(" "),a("el-dialog",{attrs:{"close-on-press-escape":!1,"close-on-click-modal":!1,title:e.dialogTitle,size:"small"},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}},[a("el-form",{ref:"form",attrs:{model:e.toUpdateRow,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"故事编码"}},[a("el-input",{model:{value:e.toUpdateRow.objCode,callback:function(t){e.toUpdateRow.objCode=t},expression:"toUpdateRow.objCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:10,offset:2}},[a("el-form-item",{attrs:{label:"需求完成"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.toUpdateRow.requirementflag,callback:function(t){e.toUpdateRow.requirementflag=t},expression:"toUpdateRow.requirementflag"}},[a("el-option",{attrs:{label:"未开始",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"进行中",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"完成",value:"2"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"故事名称"}},[a("el-input",{model:{value:e.toUpdateRow.objName,callback:function(t){e.toUpdateRow.objName=t},expression:"toUpdateRow.objName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:10,offset:2}},[a("el-form-item",{attrs:{label:"开发完成"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.toUpdateRow.developflag,callback:function(t){e.toUpdateRow.developflag=t},expression:"toUpdateRow.developflag"}},[a("el-option",{attrs:{label:"未开始",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"进行中",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"完成",value:"2"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"负责人"}},[a("el-input",{model:{value:e.toUpdateRow.boss,callback:function(t){e.toUpdateRow.boss=t},expression:"toUpdateRow.boss"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:10,offset:2}},[a("el-form-item",{attrs:{label:"测试完成"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.toUpdateRow.testflag,callback:function(t){e.toUpdateRow.testflag=t},expression:"toUpdateRow.testflag"}},[a("el-option",{attrs:{label:"未开始",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"进行中",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"完成",value:"2"}})],1)],1)],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{offset:6,span:19}},[a("el-form-item",[a("el-button",{attrs:{loading:e.submitLoading,type:"primary"},on:{click:e.updateNodeInfo}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("router-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper"},[a("router-link",{staticClass:"btn bg-blue",staticStyle:{flex:"0 0 auto"},attrs:{to:{path:e.config.rootPath+"/index/userStory?navTitle=用户故事"}}},[e._v("\n    用户故事\n  ")])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-header"),e._v(" "),a("div",{staticClass:"w"},[a("v-sidebar"),e._v(" "),a("div",{staticClass:"main"},[a("router-view")],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tree-node",on:{click:e.nodeClick}},[a("div",{staticClass:"node-label"},[a("span",[e._v("\n            "+e._s(e.label)+"\n        ")]),e._v(" "),a("input",{ref:"content",class:[e.isEditing?"visible":"hidden"],attrs:{type:"text"},domProps:{value:e.label},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13))return null;e.submit(t)}}})]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.nodeOpsShow,expression:"nodeOpsShow"}],staticClass:"node-ops"},[e.isEditing?[a("el-button",{attrs:{size:"mini"},on:{click:function(t){t.stopPropagation(),e.submit(t)}}},[e._v("确认")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(t){t.stopPropagation(),e.cancel(t)}}},[e._v("取消")])]:[e.hideAddButton?e._e():a("el-button",{attrs:{size:"mini"},on:{click:function(t){t.stopPropagation(),e.add(t)}}},[e._v("添加")]),e._v(" "),e.hideEditButton?e._e():a("el-button",{attrs:{size:"mini"},on:{click:function(t){t.stopPropagation(),e.edit(t)}}},[e._v("编辑")]),e._v(" "),e.hideDeleteButton?e._e():a("el-button",{attrs:{size:"mini"},on:{click:function(t){t.stopPropagation(),e.deleteMethod(t)}}},[e._v("删除")])]],2)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("header",[a("h1",{on:{click:e.backHome}},[e._v("业务合并")]),e._v(" "),a("p",[e._v("(Business Consolidation:BC)")])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"product-list"},[a("div",{staticClass:"group"},[a("router-link",{staticClass:"btn bg-blue",attrs:{to:{path:e.config.rootPath+"/index/product/1?navTitle=外系统数据采集"}}},[e._v("\n    外系统数据采集\n  ")]),e._v(" "),a("router-link",{staticClass:"btn bg-blue",attrs:{to:{path:e.config.rootPath+"/index/product/2?navTitle=EPM平台"}}},[e._v("\n    EPM平台\n  ")]),e._v(" "),a("router-link",{staticClass:"btn bg-blue",attrs:{to:{path:e.config.rootPath+"/index/product/3?navTitle=动态建模平台(UAP)"}}},[e._v("\n      动态建模平台(UAP)\n    ")])],1),e._v(" "),a("div",{staticClass:"group"},[a("router-link",{staticClass:"btn bg-red",attrs:{to:{path:e.config.rootPath+"/index/product/11?navTitle= 业务合并(Web端)"}}},[e._v("\n      业务合并(Web端)\n    ")]),e._v(" "),a("router-link",{staticClass:"btn bg-red",attrs:{to:{path:e.config.rootPath+"/index/product/12?navTitle= NC-Web"}}},[e._v("\n      NC-Web\n    ")]),e._v(" "),a("router-link",{staticClass:"btn bg-red",attrs:{to:{path:e.config.rootPath+"/index/product/13?navTitle= IUAP"}}},[e._v("\n      IUAP\n    ")])],1),e._v(" "),a("div",{staticClass:"group"},[a("router-link",{staticClass:"btn bg-green",attrs:{to:{path:e.config.rootPath+"/index/product/21?product= EXCEL客户端"}}},[e._v("\n      EXCEL客户端\n    ")]),e._v(" "),a("router-link",{staticClass:"btn bg-green",attrs:{to:{path:e.config.rootPath+"/index/product/22?product= 业务合并EXCEL端"}}},[e._v("\n      业务合并EXCEL端\n    ")])],1),e._v(" "),a("icon-desc",{staticClass:"icons",attrs:{settings:e.iconSettings}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("aside",[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:"","default-active":e.defaultActive}},[a("el-menu-item",{attrs:{index:e.config.rootPath+"/main/"}},[e._v("产品形态")]),e._v(" "),a("el-menu-item",{attrs:{index:e.config.rootPath+"/main/mainProcess"}},[e._v("关键业务流程")]),e._v(" "),a("el-menu-item",{attrs:{index:e.config.rootPath+"/main/user"}},[e._v("用户故事")]),e._v(" "),a("el-menu-item",{attrs:{index:e.config.rootPath+"/main/testSystem"}},[e._v("测试系统")])],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icon-desc"},e._l(e.settings,function(t){return a("div",{staticClass:"icon-group"},[a("span",{staticClass:"icon mr5",class:t.classNames}),e._v(e._s(t.label)+"\n  ")])}))},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"testingSystem"},[a("a",{staticClass:"btn bg-blue",attrs:{target:"_blank",href:"http://172.16.72.79:6701"}},[e._v("NC端")]),e._v(" "),a("a",{staticClass:"btn bg-red",attrs:{target:"_blank",href:"http://172.16.72.79:7085/bmweb"}},[e._v("WEB端")]),e._v(" "),a("a",{staticClass:"btn bg-green",attrs:{target:"_blank",href:'cmd:///c start excel -"NCOBA://#&#ptl=http#&#ip=172.16.72.79:9086#&#user=nigy#&#pwd=U_U++--V7a1e8a945a34df2096ef9e0707736753#&#ds=nc65gold0214#&#busisys=TB#&#language=simpchn#&#action=openexcel#&#args="'}},[e._v("Excel端")]),e._v(" "),a("a",{staticClass:"btn bg-red",attrs:{target:"_blank",href:"http://172.16.72.79:7085/BCS_DEMO"}},[e._v("展示系统")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"w",attrs:{"element-loading-text":"拼命加载中"}},[a("transition",{attrs:{name:"slide","leave-active-class":"animated bounceOutLeft"}},[e.treeVisible?a("aside",{staticClass:"main-aside"},[a("div",[a("el-tooltip",{attrs:{content:"点击隐藏",placement:"right"}},[a("i",{staticClass:"iconfont hide-tree",on:{click:function(t){e.treeVisible=!e.treeVisible}}},[e._v("")])])],1),e._v(" "),a("el-tree",{staticClass:"tree",attrs:{data:e.treeData,props:{children:"children",label:"label"},"node-key":"localId","highlight-current":"",indent:8,"expand-on-click-node":!1,"render-content":e.renderContent}})],1):e._e()]),e._v(" "),a("div",{staticClass:"main-content"},[a("el-table",{attrs:{data:e.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{label:"模块",prop:"module.label"}}),e._v(" "),a("el-table-column",{attrs:{label:"一级节点",prop:"firstLevelNode.label"}}),e._v(" "),a("el-table-column",{attrs:{label:"二级节点",prop:"secondLevelNode.label"},scopedSlots:e._u([["default",function(t){return[a("router-link",{attrs:{to:e.config.rootPath+"/document/"+t.row.nodeinfo.documentid+"?navTitle="+t.row.secondLevelNode.label}},[e._v("\n            "+e._s(t.row.secondLevelNode.label)+"\n          ")])]}]])}),e._v(" "),a("el-table-column",{attrs:{label:"需求完成",sortable:"",width:"120",prop:"nodeinfo.requirementflag"},scopedSlots:e._u([["default",function(t){return[a("span",{class:e.flag2Class(t.row.nodeinfo.requirementflag)})]}]])}),e._v(" "),a("el-table-column",{attrs:{label:"开发完成",sortable:"",width:"120",prop:"nodeinfo.developflag"},scopedSlots:e._u([["default",function(t){return[a("span",{class:e.flag2Class(t.row.nodeinfo.developflag)})]}]])}),e._v(" "),a("el-table-column",{attrs:{label:"测试",sortable:"",width:"120",prop:"nodeinfo.testflag"},scopedSlots:e._u([["default",function(t){return[a("span",{class:e.flag2Class(t.row.nodeinfo.testflag)})]}]])}),e._v(" "),a("el-table-column",{attrs:{label:"负责人",sortable:"",prop:"nodeinfo.boss"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([["default",function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")])]}]])})],1),e._v(" "),a("icon-desc",{attrs:{settings:e.iconSettings}})],1),e._v(" "),a("el-dialog",{attrs:{"close-on-press-escape":!1,"close-on-click-modal":!1,title:"编辑",size:"small"},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}},[a("el-form",{ref:"form",attrs:{model:e.toUpdateRow,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"模块"}},[a("el-input",{attrs:{disabled:""},model:{value:e.toUpdateRow.module,callback:function(t){e.toUpdateRow.module=t},expression:"toUpdateRow.module"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:10,offset:2}},[a("el-form-item",{attrs:{label:"需求完成"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.toUpdateRow.requirementflag,callback:function(t){e.toUpdateRow.requirementflag=t},expression:"toUpdateRow.requirementflag"}},[a("el-option",{attrs:{label:"未开始",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"进行中",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"完成",value:"2"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"一级结点"}},[a("el-input",{attrs:{disabled:""},model:{value:e.toUpdateRow.firstLevelNode,callback:function(t){e.toUpdateRow.firstLevelNode=t},expression:"toUpdateRow.firstLevelNode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:10,offset:2}},[a("el-form-item",{attrs:{label:"开发完成"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.toUpdateRow.developflag,callback:function(t){e.toUpdateRow.developflag=t},expression:"toUpdateRow.developflag"}},[a("el-option",{attrs:{label:"未开始",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"进行中",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"完成",value:"2"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"二级结点"}},[a("el-input",{attrs:{disabled:""},model:{value:e.toUpdateRow.secondLevelNode,callback:function(t){e.toUpdateRow.secondLevelNode=t},expression:"toUpdateRow.secondLevelNode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:10,offset:2}},[a("el-form-item",{attrs:{label:"测试完成"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.toUpdateRow.testflag,callback:function(t){e.toUpdateRow.testflag=t},expression:"toUpdateRow.testflag"}},[a("el-option",{attrs:{label:"未开始",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"进行中",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"完成",value:"2"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"负责人"}},[a("el-input",{model:{value:e.toUpdateRow.boss,callback:function(t){e.toUpdateRow.boss=t},expression:"toUpdateRow.boss"}})],1)],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{offset:6,span:19}},[a("el-form-item",[a("el-button",{attrs:{loading:e.submitLoading,type:"primary"},on:{click:e.updateNodeInfo}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]}},,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(180),o=(a.n(n),a(181)),s=(a.n(o),a(182));a.n(s);t.default={name:"app",data:function(){return{}},methods:{}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a(11),a(3),a(269));t.default={data:function(){return{showMenu:!0,data:n.a,defaultProps:{children:"children",label:"label"}}},methods:{handleNodeClick:function(e){e.src&&(this.$refs.demo.src=e.src)},backHome:function(){this.$router.push({name:"home"})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a(11),a(3),a(22);t.default={data:function(){return{nodeLabel:""}},methods:{},created:function(){this.$route.params.documentId;this.nodeLabel=this.$route.query.navTitle}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),o=(a(3),a(22));t.default={data:function(){return{isLoading:!1,isEditing:!1,detailImgList:[],document:{},submitLoading:!1,toUpdateDocument:{},documentId:this.$route.params.documentId}},created:function(){var e=this;this.isLoading=!0,n.a.getDocumentById(this.documentId).then(function(t){var a=t.data;e.isLoading=!1,e.document=a.data.document,e.detailImgList=a.data.detailImgList})},computed:{uploadPrototypeFileURL:function(){return n.a.uploadFileURL(this.documentId,2)}},methods:{updateDocument:function(){var e=this;n.a.updateDocument(this.documentId,this.toUpdateDocument).then(function(t){var a=t.data;e.isEditing=!1,e.submitLoading=!1,e.document.overview=a.data.overview,e.document.detail=a.data.detail}),this.submitLoading=!0},editDescription:function(){this.isEditing=!this.isEditing,this.toUpdateDocument.overview=this.document.overview},deleteImg:function(e,t){var a=this;o.a.confirm("确认删除吗?").then(function(){n.a.deleteFileById(a.documentId,t).then(function(t){t.data.error||(o.a.alertSuccess("删除成功"),a.detailImgList.splice(e,1))})})},handleSuccess:function(e,t,a){e.error?o.a.alertError("上传失败!"):(this.detailImgList.push(e.data),o.a.alertSuccess("上传成功!"))},handleError:function(e,t,a){o.a.alertError("上传失败!请检查网络")}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),o=a(3),s=a(22);t.default={data:function(){return{isLoading:!0,document:{},prototypeImgList:[],config:o.a}},computed:{uploadPrototypeFileURL:function(){return n.a.uploadFileURL(this.document.id,1)},editUrl:function(){return o.a.rootPath+"/document/"+this.document.id+"/edit"}},methods:{deleteImg:function(e,t){var a=this;s.a.confirm("确认删除吗?").then(function(){n.a.deleteFileById(a.document.id,t).then(function(t){t.data;s.a.alertSuccess("删除成功"),a.prototypeImgList.splice(e,1)})})},handleSuccess:function(e,t,a){e.error?s.a.alertError("上传失败!"):(this.prototypeImgList.push(e.data),s.a.alertSuccess("上传成功!"))},handleError:function(e,t,a){s.a.alertError("上传失败!请检查网络")}},created:function(){var e=this,t=this.$route.params.documentId;n.a.getDocumentById(t).then(function(t){var a=t.data;e.isLoading=!1,e.document=a.data.document,e.prototypeImgList=a.data.prototypeImgList})}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={methods:{backHome:function(){this.$router.push({name:"home"})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["settings"]}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(83),o=a(23);t.default={data:function(){return{businessId:null,businessDetailData:[{}]}},methods:{flag2Role:o.a.flag2Role},created:function(){this.businessId=this.$route.params.businessId,n.a[this.businessId-1]&&(this.businessDetailData=a.i(o.b)(n.a[this.businessId-1]))}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{}},created:function(){this.navTitle=this.$route.query.navTitle}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(50),o=a.n(n),s=a(82),i=a.n(s),r=a(67),l=a.n(r),d=a(26),c=a.n(d),u=a(22),f=a(11),p=(a(68),a(3)),v=a(23),m=1e3;t.default={data:function(){return{treeVisible:!0,submitLoading:!1,isLoading:!0,config:p.a,iconSettings:[{classNames:["bg-grey"],label:"未开始"},{classNames:["bg-blue"],label:"进行中"},{classNames:["bg-green"],label:"完成"}],tableData:[],isUpdateTable:!1,store:null,rootNode:null,clickedNodes:[],nodeInfo:[],allNodeInfoMap:new i.a,allNodeDataMap:new i.a,dialogVisible:!1,currentRow:{},toUpdateRow:{},treeData:[]}},mounted:function(){var e=this;this.currentProductId&&f.a.getNodeByProductId(this.currentProductId).then(function(t){var a=t.data,n=a.data.node,o=a.data.nodeInfo;e.updateTreeData(n),e.nodeInfo=o,e.isLoading=!1,console.log("NODE初始化完成")})},computed:{currentProductId:function(){return this.$store.state.currentProductId},currentNode:function(){if(null!=this.store)return this.store.currentNode}},created:function(){var e=this.$route.params.id;this.$store.dispatch("changeProductId",e)},watch:{currentProductId:function(e){var t=this;f.a.getNodeByProductId(e).then(function(e){var a=e.data,n=a.data.node,o=a.data.nodeInfo;t.updateTreeData(n),t.nodeInfo=o})},nodeInfo:function(e){var t=!0,a=!1,n=void 0;try{for(var s,i=o()(e);!(t=(s=i.next()).done);t=!0){var r=s.value;this.allNodeInfoMap.set(r.nodeid,r)}}catch(e){a=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw n}}this.updateClickedNodes()},currentNode:function(e){this.updateClickedNodes(e)}},methods:{updateClickedNodes:function(e){function t(e,a){if(a.push(e),e.childNodes.length>0){var n=!0,s=!1,i=void 0;try{for(var r,l=o()(e.childNodes);!(n=(r=l.next()).done);n=!0){t(r.value,a)}}catch(e){s=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(s)throw i}}}}if(null!=(e=e||this.currentNode)){var a=[];t(e,a),console.log("选中的结点为",a),this.clickedNodes=a,this.updateTableData()}},updateLocalNodeInfo:function(){var e=this;f.a.getNodeInfoByProductId(this.currentProductId).then(function(t){var a=t.data;e.submitLoading=!1,e.dialogVisible=!1,e.nodeInfo=a.data,u.a.alertSuccess("更新成功")})},updateTableData:function(){var e=this;this.isUpdateTable||(this.isUpdateTable=!0,this.$nextTick(function(){console.log("更新tableData 此时allNodeDataMap nodeInfoMap",e.allNodeDataMap,e.allNodeInfoMap),0==e.clickedNodes.length&&e.allNodeDataMap.forEach(function(t,a){e.clickedNodes.push(t)});var t=[],a=!0,n=!1,s=void 0;try{for(var i,r=o()(e.clickedNodes);!(a=(i=r.next()).done);a=!0){var l=i.value,d=e.allNodeInfoMap.get(l.data.id);if(null!=d){var c={nodeinfo:d,secondLevelNode:l.data,firstLevelNode:l.parent.data,module:l.parent.parent.data};t.push(c)}}}catch(e){n=!0,s=e}finally{try{!a&&r.return&&r.return()}finally{if(n)throw s}}console.log("tableData更新",t),e.tableData=t,e.isUpdateTable=!1}))},flag2label:v.a.flag2label,changeUpdateRow:function(e){this.toUpdateRow={id:e.nodeinfo.id,module:e.module.label,firstLevelNode:e.firstLevelNode.label,secondLevelNode:e.secondLevelNode.label,requirementflag:e.nodeinfo.requirementflag+"",developflag:e.nodeinfo.developflag+"",testflag:e.nodeinfo.testflag+"",boss:e.nodeinfo.boss}},updateTreeData:function(e){this.treeData=[{localId:99999,label:"全部",children:e,id:"99999"}]},addHandle:function(e,t){e.append({localId:m++,parentId:t.id,isNew:!0,label:"编辑结点",children:[],productid:this.currentProductId},t)},remove:function(e,t){e.currentNode=this.rootNode,e.remove(t),this.allNodeDataMap.delete(t.id)},renderContent:function(e,t){var a=this,n=t.node,o=t.data,s=t.store;this.allNodeDataMap.set(o.id,n),null==this.store&&(console.log("初始化store",s),this.store=s),"99999"==n.data.id&&(this.store.currentNode=n,this.rootNode=n);var i={label:n.label};return 1===n.level&&(n.expanded=!0,i.hideEditButton=!0,i.hideDeleteButton=!0),4==n.level&&(i.hideAddButton=!0),e(l.a,{props:i,on:{deleteEvent:function(){o.isNew?a.remove(s,o):u.a.confirm("确认删除吗?").then(function(){f.a.deleteNode(o.id).then(function(e){e.data.error||(a.remove(s,o),a.allNodeInfoMap.delete(o.id),a.updateLocalNodeInfo())})})},add:function(){a.addHandle(s,o),n.expanded=!0},submit:function(e){u.a.confirm("确认更新吗?").then(function(){if(o.isNew){var t={label:e,parentid:n.parent.data.id,productid:o.productid};f.a.addNode(t).then(function(e){var t=e.data;t.error?u.a.alertError(t.error.msg):(o.label=t.data.label,o.id=t.data.id,o.isNew=!1,a.updateLocalNodeInfo())}).catch(function(e){console.error(e),u.a.alertError("网络错误")})}else{var s={label:e,id:o.id,productid:o.productid};f.a.updateNode(s).then(function(e){var t=e.data;t.error?u.a.alertError(t.error.msg):(o.label=t.data.label,a.updateTableData(),u.a.alertSuccess("更新成功"))}).catch(function(e){console.error(e),u.a.alertError("网络错误")})}})}}})},updateNodeInfo:function(){var e=this,t={id:this.toUpdateRow.id,boss:this.toUpdateRow.boss,requirementflag:this.toUpdateRow.requirementflag,developflag:this.toUpdateRow.developflag,testflag:this.toUpdateRow.testflag};this.submitLoading=!0,f.a.updateNodeInfo(t).then(function(t){t.data.error||e.updateLocalNodeInfo()})},handleEdit:function(e,t){this.currentRow=t,this.changeUpdateRow(t),this.dialogVisible=!0},flag2Class:v.a.flag2Class},components:{treeNode:l.a,iconDesc:c.a}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{isEditing:!1,nodeOpsShow:!1}},props:["node","label","hideEditButton","hideAddButton","hideDeleteButton"],methods:{nodeClick:function(){this.nodeOpsShow=!this.nodeOpsShow,this.$emit("click")},cancel:function(){this.isEditing=!1},submit:function(){this.isEditing=!1;var e=this.$refs.content.value;this.$emit("submit",e)},add:function(){this.$emit("add")},deleteMethod:function(){this.$emit("deleteEvent")},edit:function(){var e=this;this.isEditing=!0,this.$nextTick(function(){var t=e.$refs.content;t.focus(),t.setSelectionRange(0,t.value.length)})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(50),o=a.n(n),s=a(82),i=a.n(s),r=a(67),l=a.n(r),d=a(26),c=a.n(d),u=a(22),f=a(11),p=a(23),v=a(3),m=1e3;t.default={data:function(){return{treeVisible:!0,dialogVisible:!1,submitLoading:!1,dialogTitle:"",isLoading:!0,tableData:[],store:null,rootNode:null,currentProductId:31,config:v.a,iconSettings:[{classNames:["bg-grey"],label:"未开始"},{classNames:["bg-blue"],label:"进行中"},{classNames:["bg-green"],label:"完成"}],nodeInfo:[],currentRow:{},toUpdateRow:{},treeData:[],clickedNodes:null,allNodeInfoMap:new i.a,allNodeDataMap:new i.a}},mounted:function(){var e=this;f.a.getNodeByProductId(this.currentProductId).then(function(t){var a=t.data,n=a.data.node,o=a.data.nodeInfo;e.updateTreeData(n),e.nodeInfo=o,e.isLoading=!1,console.log("NODE初始化完成")})},computed:{currentNode:function(){if(null!=this.store)return this.store.currentNode}},watch:{currentNode:function(e){this.updateClickedNodes(e)},nodeInfo:function(e){this.allNodeInfoMap.clear();var t=!0,a=!1,n=void 0;try{for(var s,i=o()(e);!(t=(s=i.next()).done);t=!0){var r=s.value;this.allNodeInfoMap.has(r.nodeid)?this.allNodeInfoMap.get(r.nodeid).push(r):this.allNodeInfoMap.set(r.nodeid,[r])}}catch(e){a=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw n}}this.updateClickedNodes()}},methods:{updateClickedNodes:function(e){function t(e,a){if(a.push(e),e.childNodes.length>0){var n=!0,s=!1,i=void 0;try{for(var r,l=o()(e.childNodes);!(n=(r=l.next()).done);n=!0){t(r.value,a)}}catch(e){s=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(s)throw i}}}}if(null!=(e=e||this.currentNode)){var a=[];t(e,a),console.log("选中的结点为",a),this.clickedNodes=a,this.updateTableData()}},updateLocalNodeInfo:function(){var e=this;f.a.getNodeInfoByProductId(this.currentProductId).then(function(t){var a=t.data;e.submitLoading=!1,e.dialogVisible=!1,e.nodeInfo=a.data,u.a.alertSuccess("更新成功")})},updateTableData:function(){var e=this;this.isUpdateTable||(this.isUpdateTable=!0,this.$nextTick(function(){console.log("更新tableData 此时allNodeDataMap nodeInfoMap",e.allNodeDataMap,e.allNodeInfoMap),0==e.clickedNodes.length&&e.allNodeDataMap.forEach(function(t,a){e.clickedNodes.push(t)});var t=[],a=!0,n=!1,s=void 0;try{for(var i,r=o()(e.clickedNodes);!(a=(i=r.next()).done);a=!0){var l=i.value,d=e.allNodeInfoMap.get(l.data.id);if(null!=d){var c=!0,u=!1,f=void 0;try{for(var p,v=o()(d);!(c=(p=v.next()).done);c=!0){var m=p.value,b={nodeinfo:m,node:l.data};t.push(b)}}catch(e){u=!0,f=e}finally{try{!c&&v.return&&v.return()}finally{if(u)throw f}}}}}catch(e){n=!0,s=e}finally{try{!a&&r.return&&r.return()}finally{if(n)throw s}}console.log("tableData更新",t),e.tableData=t,e.isUpdateTable=!1}))},flag2label:p.a.flag2label,changeUpdateRow:function(e){this.toUpdateRow={id:e.nodeinfo.id,objName:e.nodeinfo.objName,objCode:e.nodeinfo.objCode,requirementflag:e.nodeinfo.requirementflag+"",developflag:e.nodeinfo.developflag+"",testflag:e.nodeinfo.testflag+"",boss:e.nodeinfo.boss}},updateTreeData:function(e){this.treeData=[{localId:99999,label:"全部",children:e,id:"99999"}]},addHandle:function(e,t){e.append({localId:m++,parentId:t.id,isNew:!0,label:"编辑结点",children:[],productid:this.currentProductId},t)},remove:function(e,t){e.currentNode=this.rootNode,e.remove(t),this.allNodeDataMap.delete(t.id)},renderContent:function(e,t){var a=this,n=t.node,o=t.data,s=t.store;this.allNodeDataMap.set(o.id,n),null==this.store&&(console.log("初始化store",s),this.store=s),"99999"==n.data.id&&(this.store.currentNode=n,this.rootNode=n);var i={label:n.label,node:n};return 1===n.level?(n.expanded=!0,i.hideEditButton=!0,i.hideDeleteButton=!0):i.hideAddButton=!0,e(l.a,{props:i,on:{deleteEvent:function(){o.isNew?a.remove(s,o):u.a.confirm("确认删除吗?").then(function(){f.a.deleteNode(o.id).then(function(e){e.data.error||(a.remove(s,o),a.updateLocalNodeInfo())})})},add:function(){a.addHandle(s,o),n.expanded=!0},submit:function(e){u.a.confirm("确认更新吗?").then(function(){if(o.isNew){var t={label:e,parentid:n.parent.data.id,productid:o.productid,nodelevel:3};f.a.addNode(t).then(function(e){var t=e.data;t.error?u.a.alertError(t.error.msg):(o.label=t.data.label,o.id=t.data.id,o.isNew=!1,a.updateLocalNodeInfo())}).catch(function(e){console.error(e),u.a.alertError("网络错误")})}else{var s={label:e,id:o.id,productid:o.productid};f.a.updateNode(s).then(function(e){var t=e.data;t.error?u.a.alertError(t.error.msg):(o.label=t.data.label,a.updateTableData(),u.a.alertSuccess("更新成功"))}).catch(function(e){console.error(e),u.a.alertError("网络错误")})}})}}})},updateNodeInfo:function(){var e=this,t={id:this.toUpdateRow.id,objName:this.toUpdateRow.objName,objCode:this.toUpdateRow.objCode,boss:this.toUpdateRow.boss,requirementflag:this.toUpdateRow.requirementflag,developflag:this.toUpdateRow.developflag,testflag:this.toUpdateRow.testflag};this.submitLoading=!0,"编辑"==this.dialogTitle?f.a.updateNodeInfo(t).then(function(t){t.data.error?u.a.alertError("更新失败！"):e.updateLocalNodeInfo()}):(t.nodeid=this.currentNode.data.id,t.productid=this.currentProductId,f.a.addNodeInfo(t).then(function(t){t.data.error?u.a.alertError("添加失败！"):e.updateLocalNodeInfo()}))},handleEdit:function(e,t){this.currentRow=t,this.changeUpdateRow(t),this.dialogTitle="编辑",this.dialogVisible=!0},addRow:function(){if(null==this.currentNode||1==this.currentNode.level||this.currentNode.data.isNew)return void alert("请选中一个结点!");this.dialogTitle="添加",this.submitLoading=!1,this.dialogVisible=!0,this.toUpdateRow={requirementflag:"",developflag:"",testflag:""}},deleteRow:function(e,t){var a=this;u.a.confirm("确认删除吗?").then(function(){f.a.deleteNodeInfo(t.nodeinfo.id).then(function(e){e.data.error?u.a.alertError("删除失败！"):a.updateLocalNodeInfo()})})},flag2Class:p.a.flag2Class},components:{treeNode:l.a,iconDesc:c.a}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(66),o=a.n(n);t.default={methods:{backHome:function(){this.$router.push({name:"home"})}},components:{vHeader:o.a}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(83),o=a(26),s=a.n(o),i=a(23),r=a(3);t.default={data:function(){return{config:r.a,businessData:n.b,iconSettings:[{classNames:["bg-grey"],label:"所有角色"},{classNames:["bg-orange"],label:"管理员"},{classNames:["bg-green"],label:"合并会计"},{classNames:["bg-red"],label:"成员单位报表会计"}]}},methods:{flag2Role:i.a.flag2Role},components:{iconDesc:s.a}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(66),o=a.n(n),s=a(156),i=a.n(s);t.default={data:function(){return{}},methods:{},components:{vSidebar:i.a,vHeader:o.a}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(3),o=a(26),s=a.n(o);t.default={data:function(){return{config:n.a,iconSettings:[{classNames:["icon","bg-blue"],label:"NC端"},{classNames:["icon","bg-red"],label:"Web端"},{classNames:["icon","bg-green"],label:"Excel端"}]}},methods:{},components:{iconDesc:s.a}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a(11),a(3));t.default={data:function(){return{config:n.a}},computed:{defaultActive:function(){return this.$store.state.defaultActive}},methods:{}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(3);t.default={data:function(){return{config:n.a}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(3);t.default={data:function(){return{config:n.a}}}},function(e,t,a){"use strict";var n=[{label:"一级 1",src:"https://www.hao123.com/"},{label:"一级 2",children:[{label:"二级 2-1",children:[{label:"三级 2-1-1",src:"https://www.baidu.com/?tn=50000021_hao_pg"}]}]}];t.a=n},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(4),o=a(85),s=a.n(o),i=a(51),r=a(52),l=a(84),d=a.n(l),c=a(86),u=(a.n(c),a(3));n.default.use(d.a),n.default.config.productionTip=!1,n.default.filter("addBaseUrl",function(e){return u.a.baseUrl+e}),n.default.filter("imgNameFilter",function(e){return e.substr(0,e.indexOf("."))}),new n.default({el:"#app",router:i.a,store:r.a,template:"<App/>",components:{App:s.a}})},function(e,t,a){"use strict";var n=a(248),o=a.n(n);a(11),a(51);t.a=o()({changeProductId:function(e,t){(0,e.commit)("UPDATE_TREE_DATA",t)},changeDefaultActive:function(e,t){(0,e.commit)("CHANGE_DEFAULT_ACTIVE",t)}},"changeDefaultActive",function(e,t){(0,e.commit)("CHANGE_DEFAULT_ACTIVE",t)})},function(e,t,a){"use strict";t.a={UPDATE_TREE_DATA:function(e,t){e.currentProductId=t},CHANGE_DEFAULT_ACTIVE:function(e,t){e.defaultActive=t}}},function(e,t,a){"use strict";t.a={currentProductId:null,defaultActive:"/main"}}],[270]);
//# sourceMappingURL=app.js.map